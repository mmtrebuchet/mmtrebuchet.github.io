<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>lengthCalc &mdash; BPReveal 4.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/custom-styles.css?v=f9494c3f" />
      <link rel="stylesheet" type="text/css" href="../_static/libertinus.css?v=d73ac03a" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=e6a937a4"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="makeLossPlots" href="makeLossPlots.html" />
    <link rel="prev" title="checkJson" href="checkJson.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            BPReveal
          </a>
              <div class="version">
                4.1.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="text.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="majorcli.html">Main CLI</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="minorcli.html">Utility CLI</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="checkJson.html">checkJson</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">lengthCalc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#help-info">Help Info</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#named-arguments">Named Arguments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bpreveal.lengthCalc.getParser"><code class="docutils literal notranslate"><span class="pre">getParser()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bpreveal.lengthCalc.getLengthDifference"><code class="docutils literal notranslate"><span class="pre">getLengthDifference()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bpreveal.lengthCalc.getOutputLength"><code class="docutils literal notranslate"><span class="pre">getOutputLength()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bpreveal.lengthCalc.getInputLength"><code class="docutils literal notranslate"><span class="pre">getInputLength()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bpreveal.lengthCalc.lengthCalcMain"><code class="docutils literal notranslate"><span class="pre">lengthCalcMain()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="makeLossPlots.html">makeLossPlots</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html">metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="motifAddQuantiles.html">motifAddQuantiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="predictToBigwig.html">predictToBigwig</a></li>
<li class="toctree-l2"><a class="reference internal" href="shapToBigwig.html">shapToBigwig</a></li>
<li class="toctree-l2"><a class="reference internal" href="shapToNumpy.html">shapToNumpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="showModel.html">showModel</a></li>
<li class="toctree-l2"><a class="reference internal" href="showTrainingProgress.html">showTrainingProgress</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolsminor.html">Tools Utility CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolsmajor.html">Tools Main CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="toolsapi.html">Tools API</a></li>
<li class="toctree-l1"><a class="reference internal" href="internalapi.html">Internal</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BPReveal</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="minorcli.html">Utility CLI</a></li>
      <li class="breadcrumb-item active">lengthCalc</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_generated/lengthCalc.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="lengthcalc">
<h1>lengthCalc<a class="headerlink" href="#lengthcalc" title="Link to this heading"></a></h1>
<section id="help-info">
<h2>Help Info<a class="headerlink" href="#help-info" title="Link to this heading"></a></h2>
<p><p>Calculates the input sequence length required to run BPReveal for a given configuration and output length. The required length is written to stdout.</p>
</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>usage: lengthCalc [-h] [--output-len OL] [--input-len IL]
                  --n-dil-layers NL
                  [--initial-convolution-widths ICW [ICW ...]]
                  [--conv1-kernel-size C1KS]
                  --profile-kernel-size PKS [--verbose]
</pre></div>
</div>
<section id="named-arguments">
<h3>Named Arguments<a class="headerlink" href="#named-arguments" title="Link to this heading"></a></h3>
<dl class="option-list">
<dt><kbd>--output-len</kbd></dt>
<dd><p>The length of the output profile that is to be predicted. If specified, the returned value will be the required input sequence length. Exactly one of –input-len or –output-len must be specified.</p>
</dd>
<dt><kbd>--input-len</kbd></dt>
<dd><p>The length of the input sequence for which profiles will be predicted. If specified, the returned value is the length of the predicted profile. If no profile can be predicted, the program will print a negative number and throw an error. Exactly one of –input-len or –output-len must be specified.</p>
</dd>
<dt><kbd>--n-dil-layers</kbd></dt>
<dd><p>The number of diluted convolutional layers in the network, typically on the order of 10.</p>
</dd>
<dt><kbd>--initial-convolution-widths</kbd></dt>
<dd><p>A (space delimited) list of widths of the convolutions at the top of the network. Mutually exclusive with –conv1-kernel-size, since –conv1-kernel-size N is equivalent to –initial-convolution-widths N</p>
</dd>
<dt><kbd>--conv1-kernel-size</kbd></dt>
<dd><p>The size of the first convolution in the network, typically on the order of 25</p>
</dd>
<dt><kbd>--profile-kernel-size</kbd></dt>
<dd><p>The width of the final convolutional filter in the output heads, typically on the order of 75.</p>
</dd>
<dt><kbd>--verbose</kbd></dt>
<dd><p>Display the receptive field at each level of the network</p>
<p>Default: False</p>
</dd>
</dl>
</section>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h2>
<p id="module-bpreveal.lengthCalc">A utility to calculate the input and output length of BPReveal models.</p>
<dl class="py function">
<dt class="sig sig-object py" id="bpreveal.lengthCalc.getParser">
<span class="sig-prename descclassname"><span class="pre">bpreveal.lengthCalc.</span></span><span class="sig-name descname"><span class="pre">getParser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bpreveal.lengthCalc.getParser" title="Link to this definition"></a></dt>
<dd><p>Command line arguments for the length_calc script.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>ArgumentParser</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bpreveal.lengthCalc.getLengthDifference">
<span class="sig-prename descclassname"><span class="pre">bpreveal.lengthCalc.</span></span><span class="sig-name descname"><span class="pre">getLengthDifference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numDilLayers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initialConvolutionWidths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profileKernelSize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bpreveal.lengthCalc.getLengthDifference" title="Link to this definition"></a></dt>
<dd><p>Determine the padding on each size of the output.</p>
<p>Given a BPNet architecture, calculate how much longer the input sequence will be than
the predicted profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numDilLayers</strong> (<em>int</em>) – The number of dilated convolutional layers in BPNet.</p></li>
<li><p><strong>initialConvolutionWidths</strong> (<em>list</em><em>[</em><em>int</em><em>]</em>) – The widths of the convolutional kernels preceding the
dilated convolutions. In the original BPNet, this was a single layer of width
25, so this argument would be [25].</p></li>
<li><p><strong>profileKernelSize</strong> (<em>int</em>) – The width of the final kernel that generates the profiles,
typically around 75.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Should the code tell you what it’s doing?</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An integer representing the number of extra bases in the input compared to
the length of the predicted profile. Divide by two to get the overhang on each
side of the input.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bpreveal.lengthCalc.getOutputLength">
<span class="sig-prename descclassname"><span class="pre">bpreveal.lengthCalc.</span></span><span class="sig-name descname"><span class="pre">getOutputLength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seqLen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numDilLayers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initialConvolutionWidths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profileKernelSize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bpreveal.lengthCalc.getOutputLength" title="Link to this definition"></a></dt>
<dd><p>Determine how long the output will be.</p>
<p>Given a BPNet architecture and a length of the input sequence, calculate the length of the
predicted profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seqLen</strong> (<em>int</em>) – : The length of the input sequence, in bp.</p></li>
<li><p><strong>numDilLayers</strong> (<em>int</em>) – : The number of dilated convolutional layers in BPNet.</p></li>
<li><p><strong>initialConvolutionWidths</strong> (<em>list</em><em>[</em><em>int</em><em>]</em>) – : The widths of the convolutional kernels preceding
the dilated convolutions. In the original BPNet, this was a single layer of
width 25, so this argument would be [25].</p></li>
<li><p><strong>profileKernelSize</strong> (<em>int</em>) – : The width of the final kernel that generates the profiles,
typically around 75.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Should the code tell you what it’s doing?</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An integer representing the length of the profile that will be calculated. If this
value is zero or lower, then no bases will have their profile predicted and the
model is invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bpreveal.lengthCalc.getInputLength">
<span class="sig-prename descclassname"><span class="pre">bpreveal.lengthCalc.</span></span><span class="sig-name descname"><span class="pre">getInputLength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outPredLen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numDilLayers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initialConvolutionWidths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profileKernelSize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bpreveal.lengthCalc.getInputLength" title="Link to this definition"></a></dt>
<dd><p>Given an output length, calculate input length.</p>
<p>Given a BPNet architecture and a length of the output profile, calculate the length
of the input sequence necessary to get that profile..</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outPredLen</strong> (<em>int</em>) – : The length of the output profile, in bp.</p></li>
<li><p><strong>numDilLayers</strong> (<em>int</em>) – : The number of dilated convolutional layers in BPNet.</p></li>
<li><p><strong>initialConvolutionWidths</strong> (<em>list</em><em>[</em><em>int</em><em>]</em>) – : The widths of the convolutional kernels preceding
the dilated convolutions. In the original BPNet, this was a single layer of
width 25, so this argument would be [25].</p></li>
<li><p><strong>profileKernelSize</strong> (<em>int</em>) – : The width of the final kernel that generates the profiles,
typically around 75.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Should the code tell you what it’s doing?</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An integer representing the length of the sequence necessary to calculate the profile.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bpreveal.lengthCalc.lengthCalcMain">
<span class="sig-prename descclassname"><span class="pre">bpreveal.lengthCalc.</span></span><span class="sig-name descname"><span class="pre">lengthCalcMain</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bpreveal.lengthCalc.lengthCalcMain" title="Link to this definition"></a></dt>
<dd><p>Run the calculation.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="checkJson.html" class="btn btn-neutral float-left" title="checkJson" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="makeLossPlots.html" class="btn btn-neutral float-right" title="makeLossPlots" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Charles McAnany.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>